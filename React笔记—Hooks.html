<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><meta name="keywords" content="React, React教程, React Hook"><title>React 笔记— Hooks - 学海扁舟</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="学海扁舟"><meta name="msapplication-TileImage" content="/img/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="学海扁舟"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="本文基于官方 v18.1.0 文档。  Introducing HooksThey let you use state and other React features without writing a class. Motivation It’s hard to reuse stateful logic between components  现在可以通过自定义 Hook 提取封装带状态的逻"><meta property="og:type" content="blog"><meta property="og:title" content="React 笔记— Hooks"><meta property="og:url" content="https://ermao.live/React%E7%AC%94%E8%AE%B0%E2%80%94Hooks.html"><meta property="og:site_name" content="学海扁舟"><meta property="og:description" content="本文基于官方 v18.1.0 文档。  Introducing HooksThey let you use state and other React features without writing a class. Motivation It’s hard to reuse stateful logic between components  现在可以通过自定义 Hook 提取封装带状态的逻"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://ermao.live/img/og_image.png"><meta property="article:published_time" content="2022-05-18T04:53:28.000Z"><meta property="article:modified_time" content="2022-06-06T09:43:06.207Z"><meta property="article:author" content="Liang Zuoting"><meta property="article:tag" content="React, React教程, React Hook"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ermao.live/React%E7%AC%94%E8%AE%B0%E2%80%94Hooks.html"},"headline":"React 笔记— Hooks","image":["https://ermao.live/img/og_image.png"],"datePublished":"2022-05-18T04:53:28.000Z","dateModified":"2022-06-06T09:43:06.207Z","author":{"@type":"Person","name":"Liang Zuoting"},"publisher":{"@type":"Organization","name":"学海扁舟","logo":{"@type":"ImageObject","url":"https://ermao.live/img/logo.png"}},"description":"本文基于官方 v18.1.0 文档。  Introducing HooksThey let you use state and other React features without writing a class. Motivation It’s hard to reuse stateful logic between components  现在可以通过自定义 Hook 提取封装带状态的逻"}</script><link rel="canonical" href="https://ermao.live/React%E7%AC%94%E8%AE%B0%E2%80%94Hooks.html"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-1192763073074487" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="学海扁舟" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Welcome To My GitHub" href="https://github.com/liangzuoting"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-05-18T04:53:28.000Z" title="2022/5/18 下午12:53:28">2022-05-18</time>发表</span><span class="level-item"><time dateTime="2022-06-06T09:43:06.207Z" title="2022/6/6 下午5:43:06">2022-06-06</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Web/">Web</a><span> / </span><a class="link-muted" href="/categories/Web/React/">React</a><span> / </span><a class="link-muted" href="/categories/Web/React/Docs/">Docs</a></span><span class="level-item">13 分钟读完 (大约1959个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">React 笔记— Hooks</h1><div class="content"><blockquote>
<p>本文基于官方 v18.1.0 文档。</p>
</blockquote>
<h1 id="Introducing-Hooks"><a href="#Introducing-Hooks" class="headerlink" title="Introducing Hooks"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html">Introducing Hooks</a></h1><p>They let you use state and other React features without writing a class.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html#motivation">Motivation</a></p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html#its-hard-to-reuse-stateful-logic-between-components">It’s hard to reuse stateful logic between components</a></p>
<blockquote>
<p>现在可以通过自定义 Hook 提取封装带状态的逻辑。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html#complex-components-become-hard-to-understand">Complex components become hard to understand</a></p>
<blockquote>
<p><code>useEffect</code> 可以把复杂逻辑分拆到多个小的函数中。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html#classes-confuse-both-people-and-machines">Classes confuse both people and machines</a></p>
<span id="more"></span>

<h1 id="Hooks-at-a-Glance"><a href="#Hooks-at-a-Glance" class="headerlink" title="Hooks at a Glance"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-overview.html">Hooks at a Glance</a></h1><p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-overview.html#state-hook">State Hook</a></p>
<blockquote>
<p>解构赋值语法</p>
</blockquote>
<p>React assumes that if you call <code>useState</code> many times, you do it in the same order during every render.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-overview.html#effect-hook">Effect Hook</a></p>
<p>It serves the same purpose as <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code> in React classes, but unified into a single API.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-overview.html#rules-of-hooks">Rules of Hooks</a></p>
<ul>
<li><strong>Only call Hooks at the top level</strong>. Don’t call Hooks inside loops, conditions, or nested functions.</li>
<li><strong>Only call Hooks from React function components</strong>. Don’t call Hooks from regular JavaScript functions.</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-overview.html#building-your-own-hooks">Building Your Own Hooks</a></p>
<p>The state of each component is completely independent. Hooks are a way to reuse stateful logic, not state itself. In fact, each call to a Hook has a completely isolated state — so you can even use the same custom Hook twice in one component.</p>
<p>Custom Hooks are more of a convention than a feature. If a function’s name starts with ”<code>use</code>” and it calls other Hooks, we say it is a custom Hook.</p>
<h1 id="Using-the-State-Hook"><a href="#Using-the-State-Hook" class="headerlink" title="Using the State Hook"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-state.html">Using the State Hook</a></h1><h1 id="Using-the-Effect-Hook"><a href="#Using-the-Effect-Hook" class="headerlink" title="Using the Effect Hook"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-effect.html">Using the Effect Hook</a></h1><p>you can think of useEffect Hook as <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code> combined.</p>
<p>Instead of thinking in terms of “mounting” and “updating”, you might find it easier to think that effects happen “after render”. React guarantees the DOM has been updated by the time it runs the effects.</p>
<p>Experienced JavaScript developers might notice that the function passed to <code>useEffect</code> is going to be different on every render. This is intentional….Every time we re-render, we schedule a different effect, <strong>replacing the previous one</strong>.</p>
<p>Unlike <code>componentDidMount</code> or <code>componentDidUpdate</code>, <strong>effects scheduled with <code>useEffect</code> don’t block the browser from updating the screen</strong>.</p>
<p>React performs the cleanup when the component unmounts….React also cleans up effects from the previous render before running the effects next time.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-effect.html#tip-optimizing-performance-by-skipping-effects">Tip: Optimizing Performance by Skipping Effects</a></p>
<p>If you use this optimization, make sure the array includes all values from the component scope (such as props and state) that change over time and that are used by the effect.</p>
<h1 id="Rules-of-Hooks"><a href="#Rules-of-Hooks" class="headerlink" title="Rules of Hooks"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-rules.html">Rules of Hooks</a></h1><h2 id="Only-Call-Hooks-at-the-Top-Level"><a href="#Only-Call-Hooks-at-the-Top-Level" class="headerlink" title="Only Call Hooks at the Top Level"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-rules.html#only-call-hooks-at-the-top-level">Only Call Hooks at the Top Level</a></h2><p><strong>Don’t call Hooks inside loops, conditions, or nested functions.</strong></p>
<h2 id="Only-Call-Hooks-from-React-Functions"><a href="#Only-Call-Hooks-from-React-Functions" class="headerlink" title="Only Call Hooks from React Functions"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-rules.html#only-call-hooks-from-react-functions">Only Call Hooks from React Functions</a></h2><p><strong>Don’t call Hooks from regular JavaScript functions.</strong></p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-rules.html#explanation">Explanation</a></p>
<p>So how does React know which state corresponds to which useState call? The answer is that <strong>React relies on the order in which Hooks are called</strong>.</p>
<h1 id="Building-Your-Own-Hooks"><a href="#Building-Your-Own-Hooks" class="headerlink" title="Building Your Own Hooks"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-custom.html">Building Your Own Hooks</a></h1><p><strong>A custom Hook is a JavaScript function whose name starts with ”use” and that may call other Hooks.</strong></p>
<h1 id="Hooks-API-Reference"><a href="#Hooks-API-Reference" class="headerlink" title="Hooks API Reference"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html">Hooks API Reference</a></h1><p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usestate">useState</a></p>
<p><strong>Lazy initial state</strong></p>
<p><strong>If the initial state is the result of an expensive computation, you may provide a function instead, which will be executed only on the initial render.</strong></p>
<p><strong>Batching of state updates</strong></p>
<p>Before React 18, only updates inside React event handlers were batched. Starting with React 18, <a target="_blank" rel="noopener" href="https://reactjs.org/blog/2022/03/08/react-18-upgrade-guide.html#automatic-batching">batching is enabled for all updates by default</a>.</p>
<p>In the rare case that you need to force the DOM update to be applied synchronously, you may wrap it in <code>flushSync</code>. However, <strong>this can hurt performance so do this only where needed</strong>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Force this state update to be synchronous.</span></span><br><span class="line">flushSync(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  setCount(count + <span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// By this point, DOM is updated.</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#useeffect">useEffect</a></p>
<p>…the previous effect is cleaned up before executing the next effect.</p>
<p><strong>Timing of effects</strong></p>
<p>…the function passed to useEffect fires after layout and paint, during a deferred event.</p>
<blockquote>
<p>就是前边说的，effects scheduled with <code>useEffect</code> don’t block the browser from updating the screen. <code>useEffect</code> 不阻塞屏幕刷新。</p>
</blockquote>
<p>However, not all effects can be deferred. For example, a DOM mutation that is visible to the user must fire synchronously before the next paint so that the user does not perceive a visual inconsistency.</p>
<blockquote>
<p>之前的解决方案就是 <code>useLayoutEffect</code>，18+ 又多了上边提到的 <code>flushSync</code>。</p>
</blockquote>
<p><strong>Conditionally firing an effect</strong></p>
<p>…make sure the array includes all values from the component scope (such as props and state) that change over time and that are used by the effect.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usecontext">useContext</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> value = useContext(MyContext);</span><br></pre></td></tr></table></figure>

<p>Accepts a context object (the value returned from <code>React.createContext</code>) and returns the current context value for that context. The current context value is determined by the <code>value</code> prop of the nearest <code>&lt;MyContext.Provider&gt;</code> above the calling component in the tree.</p>
<p><code>useContext(MyContext)</code> only lets you read the context and subscribe to its changes. You still need a <code>&lt;MyContext.Provider&gt;</code> above in the tree to provide the value for this context.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usereducer">useReducer</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialArg, init);</span><br></pre></td></tr></table></figure>

<p>An alternative to <code>useState</code>. Accepts a reducer of type <code>(state, action) =&gt; newState</code>, and returns the current state paired with a <code>dispatch</code> method.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialState = &#123;<span class="attr">count</span>: <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;increment&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count + <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;decrement&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.count - <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialState);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="xml">      Count: &#123;state.count&#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> dispatch(&#123;type: &#x27;decrement&#x27;&#125;)&#125;&gt;-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> dispatch(&#123;type: &#x27;increment&#x27;&#125;)&#125;&gt;+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Lazy initialization</strong></p>
<p>…you can pass an <code>init</code> function as the third argument. The initial state will be set to <code>init(initialArg)</code>.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usecallback">useCallback</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedCallback = useCallback(</span><br><span class="line">  <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    doSomething(a, b);</span><br><span class="line">  &#125;,</span><br><span class="line">  [a, b],</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><code>useCallback</code> will return a memoized version of the callback that only changes if one of the dependencies has changed.</p>
<p><code>useCallback(fn, deps)</code> is equivalent to <code>useMemo(() =&gt; fn, deps)</code>.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usememo">useMemo</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedValue = useMemo(<span class="function">() =&gt;</span> computeExpensiveValue(a, b), [a, b]);</span><br></pre></td></tr></table></figure>

<p><code>useMemo</code> will only recompute the memoized value when one of the dependencies has changed.</p>
<p><strong>If no array is provided, a new value will be computed on every render.</strong></p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#useref">useRef</a></p>
<p><code>useRef()</code> is useful for more than the <code>ref</code> attribute.</p>
<blockquote>
<p><code>useRef</code> 实际就是返回了一个 js object，只不过生命周期是持续整个组件生命周期的，所以除了用于 <code>ref</code>，任何其它需要的场景都可以用。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#useimperativehandle">useImperativeHandle</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useImperativeHandle(ref, createHandle, [deps])</span><br></pre></td></tr></table></figure>

<blockquote>
<p>自定义 <code>ref.current</code> 的值。<code>createHandle</code> 的结果对象作为 <code>ref.current</code> 的新值。</p>
</blockquote>
<p><code>useImperativeHandle</code> should be used with <code>forwardRef</code>.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#uselayouteffect">useLayoutEffect</a></p>
<blockquote>
<p>同 <code>useEffect</code> 作用，但是触发时机、对 DOM 的更新都是同步的、阻塞的。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usedebugvalue">useDebugValue</a></p>
<p><code>useDebugValue</code> can be used to display a label for custom hooks in React DevTools.</p>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usedeferredvalue">useDeferredValue</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deferredValue = useDeferredValue(value);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>将 <code>value</code> 记忆化。碰到 urgent 更新时，会用旧值渲染；非 urgent 时，以新值渲染。跟防抖不同，<code>useDeferredValue</code> 保证最后一定会以新值渲染一次。所以 <code>useDeferredValue</code> 有可能会触发两次渲染。</p>
</blockquote>
<blockquote>
<p>细节参考：<a href="">https://github.com/reactwg/react-18/discussions/129</a></p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usetransition">useTransition</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [isPending, startTransition] = useTransition();</span><br></pre></td></tr></table></figure>

<p> Returns a stateful value for the pending state of the transition, and a function to start it.</p>
<p> <strong>Updates in a transition yield to more urgent updates such as clicks.</strong></p>
<blockquote>
<p>将一个函数调用变为转场。回调函数会至少延迟一个渲染周期后被调用。React 把更新分成两类：Urgent 和 Transition。转场是可以 pending 的，<code>startTransition</code> 被调用到回调函数被调用前，<code>isPending</code> 为 <code>true</code>。</p>
</blockquote>
<blockquote>
<p>细节参考：<a href="">https://github.com/reactwg/react-18/discussions/41</a></p>
</blockquote>
<p> <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#useid">useId</a></p>
<blockquote>
<p>生成一个唯一字符串。</p>
</blockquote>
<h1 id="Hooks-FAQ"><a href="#Hooks-FAQ" class="headerlink" title="Hooks FAQ"></a><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-faq.html">Hooks FAQ</a></h1><p> <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node">How can I measure a DOM node?</a></p>
<blockquote>
<p>元素大小不变的情况下不需要 <code>ResizeObserver</code>，用 <a target="_blank" rel="noopener" href="https://reactjs.org/docs/refs-and-the-dom.html#callback-refs">callback ref</a>。妙啊！</p>
</blockquote>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">MeasureExample</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [height, setHeight] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> measuredRef = useCallback(<span class="function"><span class="params">node</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</span><br><span class="line">      setHeight(node.getBoundingClientRect().height);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">h1</span> <span class="attr">ref</span>=<span class="string">&#123;measuredRef&#125;</span>&gt;</span>Hello, world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>The above header is &#123;Math.round(height)&#125;px tall<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-shouldcomponentupdate">How do I implement shouldComponentUpdate?</a></p>
<p> You can wrap a function component with <code>React.memo</code> to shallowly compare its props:<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">const</span> Button = React.memo(<span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// your component</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p> <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-faq.html#how-to-memoize-calculations">How to memoize calculations?</a></p>
<p> The <code>useMemo</code> Hook lets you cache calculations between multiple renders by “remembering” the previous computation:</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedValue = useMemo(<span class="function">() =&gt;</span> computeExpensiveValue(a, b), [a, b]);</span><br></pre></td></tr></table></figure>

<p> Conveniently, <code>useMemo</code> also lets you skip an expensive re-render of a child:</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">&#123; a, b &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Only re-rendered if `a` changes:</span></span><br><span class="line">  <span class="keyword">const</span> child1 = useMemo(<span class="function">() =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Child1</span> <span class="attr">a</span>=<span class="string">&#123;a&#125;</span> /&gt;</span></span>, [a]);</span><br><span class="line">  <span class="comment">// Only re-rendered if `b` changes:</span></span><br><span class="line">  <span class="keyword">const</span> child2 = useMemo(<span class="function">() =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Child2</span> <span class="attr">b</span>=<span class="string">&#123;b&#125;</span> /&gt;</span></span>, [b]);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="xml">      &#123;child1&#125;</span></span><br><span class="line"><span class="xml">      &#123;child2&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily">How to create expensive objects lazily?</a></p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Table</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ⚠️ createRows() is called on every render</span></span><br><span class="line">  <span class="keyword">const</span> [rows, setRows] = useState(createRows(props.count));</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> To avoid re-creating the ignored initial state, we can pass a function to <code>useState</code>:</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Table</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ✅ createRows() is only called once</span></span><br><span class="line">  <span class="keyword">const</span> [rows, setRows] = useState(<span class="function">() =&gt;</span> createRows(props.count));</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/React/">React</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=61358e3ac93b3300122c7686&amp;product=sop" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/images/alipay.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/images/wechat.JPG" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/Unity%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Unity 垃圾收集最佳实践</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/React%E7%AC%94%E8%AE%B0%E2%80%94%E9%AB%98%E7%BA%A7%E6%8C%87%E5%BC%95.html"><span class="level-item">React 笔记—高级指引</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content" id="valine-thread"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script><script>new Valine({
            el: '#valine-thread',
            appId: "I8KNPnIk0nHNlTkcrT4fGQue-gzGzoHsz",
            appKey: "GWGNIR9mBnz5E0K3MWYzK34R",
            
            avatar: "mm",
            avatarForce: false,
            meta: ["nick"],
            pageSize: 10,
            lang: "zh-CN",
            visitor: true,
            highlight: true,
            recordIP: false,
            
            
            
            enableQQ: false,
            requiredFields: [],
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/logo.png" alt="Liang Zuoting"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Liang Zuoting</p><p class="is-size-6 is-block">新生代农民工</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>广州</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">94</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">23</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">36</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/liangzuoting" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/liangzuoting"><i class="fab fa-github"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/C/"><span class="level-start"><span class="level-item">C++</span></span><span class="level-end"><span class="level-item tag">35</span></span></a><ul><li><a class="level is-mobile" href="/categories/C/C-17/"><span class="level-start"><span class="level-item">C++17</span></span><span class="level-end"><span class="level-item tag">27</span></span></a><ul><li><a class="level is-mobile" href="/categories/C/C-17/C-17%E8%AF%A6%E8%A7%A3/"><span class="level-start"><span class="level-item">C++17详解</span></span><span class="level-end"><span class="level-item tag">25</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/C/HOPL4/"><span class="level-start"><span class="level-item">HOPL4</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/C/Qt/"><span class="level-start"><span class="level-item">Qt</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/C/TarsCPP/"><span class="level-start"><span class="level-item">TarsCPP</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/C/%E5%B9%B6%E5%8F%91%E8%AE%A1%E7%AE%97/"><span class="level-start"><span class="level-item">并发计算</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/CSAPP/"><span class="level-start"><span class="level-item">CSAPP</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/FFmpeg/"><span class="level-start"><span class="level-item">FFmpeg</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/FFmpeg-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"><span class="level-start"><span class="level-item">FFmpeg 常用命令</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/MP4/"><span class="level-start"><span class="level-item">MP4</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/StreamingCore/"><span class="level-start"><span class="level-item">StreamingCore</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Unity/"><span class="level-start"><span class="level-item">Unity</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/Unity/%E4%BD%BF%E7%94%A8-Unity-%E5%BC%80%E5%8F%91-Android-VR-%E5%BA%94%E7%94%A8/"><span class="level-start"><span class="level-item">使用 Unity 开发 Android VR 应用</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/Python/Sanic/"><span class="level-start"><span class="level-item">Sanic</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Web/React/"><span class="level-start"><span class="level-item">React</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/React/Docs/"><span class="level-start"><span class="level-item">Docs</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87/"><span class="level-start"><span class="level-item">工作效率</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85/"><span class="level-start"><span class="level-item">智能家居</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85/SmartHome/"><span class="level-start"><span class="level-item">SmartHome</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%9D%82%E8%AE%B0/"><span class="level-start"><span class="level-item">杂记</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-09T04:39:31.000Z">2023-11-09</time></p><p class="title"><a href="/CSAPP%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%83%E7%AB%A0%E9%93%BE%E6%8E%A5.html">CSAPP 读书笔记-第七章链接</a></p><p class="categories"><a href="/categories/CSAPP/">CSAPP</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-09-20T05:54:22.000Z">2023-09-20</time></p><p class="title"><a href="/CSAPP%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%AC%AC%E5%85%AD%E7%AB%A0%E5%AD%98%E5%82%A8%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.html">CSAPP 读书笔记-第六章存储器层次结构</a></p><p class="categories"><a href="/categories/CSAPP/">CSAPP</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-09-16T12:18:39.000Z">2023-09-16</time></p><p class="title"><a href="/CSAPP%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%BA%94%E7%AB%A0%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD.html">CSAPP 读书笔记-第五章优化程序性能</a></p><p class="categories"><a href="/categories/CSAPP/">CSAPP</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-09-12T05:48:03.000Z">2023-09-12</time></p><p class="title"><a href="/CSAPP%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%B8%B8.html">CSAPP 读书笔记-第一章计算机系统漫游</a></p><p class="categories"><a href="/categories/CSAPP/">CSAPP</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-08-19T05:42:27.000Z">2023-08-19</time></p><p class="title"><a href="/%E6%88%91%E8%BA%AB%E8%BE%B9%E7%9A%84%E8%BF%99%E4%BD%8D%E2%80%9C%E9%91%AB%E7%88%B7%E2%80%9D.html">我身边的这位“鑫爷”</a></p><p class="categories"><a href="/categories/%E6%9D%82%E8%AE%B0/">杂记</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/11/"><span class="level-start"><span class="level-item">十一月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/09/"><span class="level-start"><span class="level-item">九月 2023</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/08/"><span class="level-start"><span class="level-item">八月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/04/"><span class="level-start"><span class="level-item">四月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">二月 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">一月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/12/"><span class="level-start"><span class="level-item">十二月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/11/"><span class="level-start"><span class="level-item">十一月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">九月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">七月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">六月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">五月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">一月 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">十二月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">十一月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">九月 2021</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">三月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">二月 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">一月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">九月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">八月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">四月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">二月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">十二月 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/AVX2/"><span class="tag">AVX2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Animator/"><span class="tag">Animator</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag">30</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C-17/"><span class="tag">C++17</span><span class="tag">27</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CSAPP/"><span class="tag">CSAPP</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloudflare/"><span class="tag">Cloudflare</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DeepSpeech/"><span class="tag">DeepSpeech</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FFmpeg/"><span class="tag">FFmpeg</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Jellyfin/"><span class="tag">Jellyfin</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MP4/"><span class="tag">MP4</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NAS/"><span class="tag">NAS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NEON/"><span class="tag">NEON</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Qt/"><span class="tag">Qt</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/React/"><span class="tag">React</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Redis/"><span class="tag">Redis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sanic/"><span class="tag">Sanic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spectre/"><span class="tag">Spectre</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TarsCPP/"><span class="tag">TarsCPP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Unity/"><span class="tag">Unity</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VPS/"><span class="tag">VPS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VR/"><span class="tag">VR</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Video-js/"><span class="tag">Video.js</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VideoPlayer/"><span class="tag">VideoPlayer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web/"><span class="tag">Web</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Webpack/"><span class="tag">Webpack</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/XOPlayer/"><span class="tag">XOPlayer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mono/"><span class="tag">mono</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%BD%E5%A4%96VPS/"><span class="tag">国外VPS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B9%B6%E8%A1%8C-%E5%B9%B6%E5%8F%91%E8%AE%A1%E7%AE%97/"><span class="tag">并行/并发计算</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><span class="tag">微服务</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"><span class="tag">正则表达式</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%88%AC%E8%99%AB/"><span class="tag">爬虫</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%9B%B4%E6%92%AD/"><span class="tag">直播</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%A5%BF%E5%AE%89/"><span class="tag">西安</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="学海扁舟" height="28"></a><p class="is-size-7"><span>&copy; 2023 Liang Zuoting</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>